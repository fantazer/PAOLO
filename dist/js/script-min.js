$(document).ready(function(){function e(e){var t=e.getBoundingClientRect(),i=t.left>=0&&t.left<=$(window).width(),o=t.top>=0&&t.top<=$(window).height(),s=t.right>=0&&t.right<=$(window).width(),a=t.bottom>=0&&t.bottom<=$(window).height();return{top:o,left:i,right:s,bottom:a,all:i&&o&&s&&a}}$("a[rel='m_PageScroll2id']").mPageScroll2id({offset:100,highlightClass:"head-nav__el--active",onComplete:function(){$(".header-navs").hide()}}),$(".select-beauty").niceSelect(),$(".nice-scroll").niceScroll({autohidemode:"false",touchbehavior:"true"});var t={isModalShow:!1,scrollPos:0};$(".modal-content").click(function(e){e.stopPropagation()});var i=function(){$(".modal-layer").hasClass("modal-layer-show")||($(".modal-layer").addClass("modal-layer-show"),t.scrollPos=$(window).scrollTop(),$("body").css({overflow:"hidden",position:"fixed",overflowY:"hidden",top:-t.scrollPos,width:"100%"})),t.isModalShow=!0},o=function(){$(".modal-layer").removeClass("modal-layer-show"),$("body").css({overflow:"",position:"",top:t.scrollPos}),$(window).scrollTop(t.scrollPos),$(".modal").removeClass("modal__show"),$(".slide-menu").removeClass("slide-menu--open"),t.isModalShow=!1},s=function(e){i(),$(".modal").each(function(){$(this).data("modal")===e?$(this).addClass("modal__show"):$(this).removeClass("modal__show")});var t=$(window).height();$(".modal-filter").height(t)};$(".modal-get").click(function(){var e=$(this).data("modal");s(e)}),$(".modal-layer , .modal-close, .hide-modal").click(function(){o()}),$(".head-toggle--open").click(function(){$("body").css({overflow:"",position:"",top:""})}),$(".head-toggle").click(function(e){$(".slide-menu").addClass("slide-menu--open"),i(),e.stopPropagation()}),$(".slide-menu-close").click(function(){$(".slide-menu").removeClass("slide-menu--open"),o()}),$(".slide-menu").on("click",function(e){e.stopPropagation()});var a=150,l=$(".head-main-wrap").height();$(window).scroll(function(){var e=$(this).scrollTop();e>=a?($("body").css("paddingTop",l),$(".head-main-wrap").addClass("shrink")):($("body").css("paddingTop",0),$(".head-main-wrap").removeClass("shrink"))}),$(window).resize(function(){l=$(".header").height()}),$(".footer-panel-btn").click(function(e){$(this).toggleClass("footer-panel-btn--active"),$(".slide-cat").hasClass("slide-cat--active")?o():i(),$(".slide-cat").toggleClass("slide-cat--active"),e.stopPropagation()}),$(".slide-cat").on("click",function(e){e.stopPropagation()}),$(".slide-cat .mobile-cat__el").click(function(){o(),$(".slide-cat").toggleClass("slide-cat--active"),$(".footer-panel-btn").toggleClass("footer-panel-btn--active")}),$(".head-search").click(function(){$(".head-top-nav").toggleClass("head-top-nav--active"),$(".head-top-search-wrap").fadeToggle("100")}),$(".main-slider").slick({slidesToShow:1,speed:500,dots:!1,arrows:!1,autoplay:!0,autoplaySpeed:8e3,customPaging:function(e,t){return'<span class="dot"></span>'}}),$(".slider-control--right").click(function(){$(this).closest(".slider-wrap").find(".slider-item").slick("slickNext")}),$(".slider-control--left").click(function(){$(this).closest(".slider-wrap").find(".slider-item").slick("slickPrev")}),$(".review-slider").slick({slidesToShow:3,speed:500,dots:!0,arrows:!1,responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:2}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}}],customPaging:function(e,t){return'<span class="dot"></span>'}}),$(".incr__minus").click(function(){var e=($(this).closest(".wrap-incr").find(".el-incr:visible").length,$(this).parent().find(".incr__val span")),t=parseInt(e.html())-1;t>0?$(this).closest(".elements-icr-block").addClass("elements-icr-block--active"):$(this).closest(".elements-icr-block").removeClass("elements-icr-block--active"),$(this).hasClass("incr--one")?t<1&&($(".incr-btn").removeClass("incr-btn--active"),$(this).closest(".el-incr").slideUp(),t=1):t<1&&(t=0),e.html(t)}),$(".incr__plus").click(function(){var e=$(this).parent().find(".incr__val span"),t=parseInt(e.html())+1;t=t>100?100:t,e.html(t),t>0?$(this).closest(".elements-icr-block").addClass("elements-icr-block--active"):$(this).closest(".elements-icr-block").removeClass("elements-icr-block--active")}),$(".star--edit .star-el").hover(function(){$(this).parent().hasClass("star--fix")||($(".star .star-el").removeClass("star-el--active"),$(this).addClass("star-el--active"),$(this).prevAll(".star-el").addClass("star-el--active"))}),$(".star--edit .star-el").click(function(){$(this).parent().toggleClass("star--fix"),$(this).addClass("star-el--active"),$(this).prevAll(".star-el").addClass("star-el--active")}),$(".description__more").click(function(){$(".description__text--hidden").slideToggle(),$(this).toggleClass("description__more--open")});var n=function(){$(window).width()>1025&&$(".panel-wrap").stick_in_parent({offset_top:100}),$(window).width()<769&&$(".panel-wrap").trigger("sticky_kit:detach")};$(window).resize(function(){n()}),n(),$(".goods-energy").click(function(){$(".food").slideToggle()}),$(".history-card__wrap").click(function(){var e=$(this).closest(".history-card");e.find(".history-card__wrap").hide(0),e.closest(".history-card").addClass("history-card--active"),e.find(".history-info").slideToggle(600)}),$(".order-tab__el").click(function(){$(this).hasClass("order-tab__el--active")||($(".order-tab__el").removeClass("order-tab__el--active"),$(this).addClass("order-tab__el--active"));var e=$(this).data("tab");$(".order-cont__el").each(function(){$(this).data("tab")===e?$(this).removeClass("hidden"):$(this).addClass("hidden")})}),$(".payment-card__el").click(function(){$(".payment-card__el").removeClass("payment-card__el--active"),$(this).addClass("payment-card__el--active")}),$(".payment__type__el").click(function(){"card"===$(this).data("tab")?$(".payment__type-cont").removeClass("hidden"):$(".payment__type-cont").addClass("hidden")});.01*window.innerHeight;document.documentElement.style.setProperty("--vh","${vh}px"),window.addEventListener("resize",function(){.01*window.innerHeight;document.documentElement.style.setProperty("--vh","${vh}px")});var c=$(".getdate").datepicker({minDate:new Date,autoClose:!0,onHide:function(e){e.update("position","right center")},onShow:function(t,i){if(!i){var o=!1;$.each(["right center","right bottom","right top","top center","bottom center"],function(i,s){if(!o){t.update("position",s);var a=e(t.$datepicker[0]);a.all&&(o=!0)}})}}}).data("datepicker");$(".modal-wrap").on("scroll",function(){c.update()}),$(".range").length>0&&$(".range").ionRangeSlider({postfix:" баллов",prefix:"Списать "})});